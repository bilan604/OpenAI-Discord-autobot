<!DOCTYPE html>
<head>
  <title>If I had a Nickel for every Programming Language I've Learned</title>
  <link href="{{ url_for('static', filename='main.css') }}" rel="stylesheet"  />
</head>

<body onmousedown="onMouseDown(event)" onmouseup="onMouseUp(event)" onmousedown="onMouseDown(event)" onmousemove="onMouseMove(event)" onmouseout="onMouseOut(event)" onmouseenter ="onMouseEnter(event)">
  

  <div id="intro">
    <h1>Hi, I go by Bill!</h1>
    <p>Heres a little bit about me, some things I enjoy learning,
       and some things I am learning to do.</p>
  </div>
  <div id="gallery">
    <div id="GPT3">
      <h3>OpenAI's chatGPT</h3>
      <form action="/" method="post">
        <input type="text" name="query" placeholder="Enter Anything" required />
        <input type="submit" value="Generate output!" />
      </form>
  {% if result %}
    <div class="result">{{ result }}</div>
    {% endif %}
    </div>
    
    <img class="image" src="static/sta160.png" draggable="false" unselectable="on" />
    <img class="image" src="static/CodeSignal-s2.png" draggable="false" unselectable="on" />
    <img class="image" src="static/CodeSignal-s3.png" draggable="false" unselectable="on" />
    <img class="image" src="static/HackerRank-Python-Certification.png" draggable="false" unselectable="on" />
    <img class="image" src="static/HackerRank-SQL-Certification.png" draggable="false" unselectable="on" />
    <img class="image" src="static/HackerRank-Java-Certification.png" draggable="false" unselectable="on" />
    <img class="image" src="static/HackerRank-Problem-Solving-Certification.png" draggable="false" unselectable="on" />   
    </div>


    <script>
  
      function onMouseUp(e) {
        var gallery = document.getElementById("gallery");
        gallery.mousedown = 'false';
        posdiff = 100 * (e.clientX - gallery.startClick) / window.innerWidth;
        
        gallery.oldpos = posdiff + gallery.oldpos;
        /*document.getElementById("test-display").innerHTML = "Up: " + posdiff + " AND "+ gallery.oldpos;*/
        gallery.animate(
            {transform: 'translate(-' + Math.min(100, Math.max(0, gallery.oldpos)) +'%, -45%)'}, 
            {duration: 1200, fill: 'forwards'}
          );
      }
      
      function onMouseDown(e) {
        var gallery = document.getElementById("gallery");
        if (isNaN(gallery.oldpos)) {
          gallery.oldpos = 0;
        }
        gallery.startClick = e.clientX;
        gallery.mousedown = 'true';
      
      
      /*document.getElementById("test-display").innerHTML = "Down: " + gallery.oldpos;*/
      }
        
      function onMouseMove(e) {
        const gallery = document.getElementById("gallery");
        const dwindowratio = (e.clientX - gallery.startClick) / window.innerWidth;
        const newratio = 100 * dwindowratio;
        const newpos = newratio + gallery.oldpos;
        if (gallery.mousedown == "true") {
          gallery.animate(
            {transform: 'translate(-' + Math.min(100, Math.max(0, newpos)) +'%, -50%)'}, 
            {duration: 1200, fill: 'forwards'}
          );
  
          const np = Math.min(100, Math.max(0, (100-(1.3*newpos.toFixed(0)))));
          const images = gallery.getElementsByClassName("image");
          for (let i = 0; i < images.length; i++) {
            images[i].animate(
              {objectPosition: np + '% 50%'},
              {duration: 1200, fill: 'forwards'}
            );
          }
        }
      }
      
      function onMouseEnter(e) {
        var element = document.getElementById("test-display");
        element.innerHTML = "";
      }
      
      function onMouseOut(e) {
        document.getElementById("gallery").mousedown = 'false';
        
        var element = document.getElementById("test-display");
        element.innerHTML = "";
      }
  
    </script>


</body>
